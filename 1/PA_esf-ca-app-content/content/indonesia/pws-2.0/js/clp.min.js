function getUrlParam(){for(var t,e=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<a.length;n++)t=a[n].split("="),e.push(t[0]),e[t[0]]=t[1];return e}function progressBar(){var t=parseInt($("[data-current-page]").attr("data-current-page")),e=parseInt($("[data-current-page]").attr("data-total-page")),a=(t/e*100).toFixed(2)+"%",n=(100-t/e*100).toFixed(2)+"%";$(".progress--bar-current").width(a),$(".progress--bar-remaining").width(n)}function validateGroup(t){var e=[];return t.each(function(){e.push(validateField($(this)))}),e.filter(Boolean).length===e.length}function validateField(t){var e=validate(t);return e?(t.closest(".form-group").find(".help-inline").hide(),t.removeClass("invalid-input"),t.addClass("valid-input"),t.hasClass("inputEqual")&&$(".inputEqual").each(function(){$(this).closest(".form-group").find(".help-inline").hide(),$(this).removeClass("invalid-input"),$(this).addClass("valid-input")})):""!=t.val()?(t.closest(".form-group").find(".help-inline").show(),t.hasClass("inputEqual")||t.closest(".form-group").find(".help-inline").prev().focus(),t.removeClass("valid-input"),t.addClass("invalid-input")):(t.closest(".form-group").find(".help-inline").show(),t.removeClass("valid-input"),t.addClass("invalid-input")),e}function validate(t){var e=!0;return t.each(function(){var t=$(this);$(t.attr("class").split(" ")).each(function(a,n){switch(n){case"inputEqual":var r=[];$(".inputEqual").each(function(){var t=$(this).val();r.push(t)}),""!=r[0]&&""!=r[1]&&r[0]!=r[1]&&(e=!1);break;case"inputAZ":/^[a-z ]+$/i.test($.trim(t.val()))||(e=!1);break;case"input09":/^[0-9 \+\"]+$/i.test(t.val())||(e=!1);break;case"sourceCode":/^[\d]{6}[\w]{4}$/g.test(t.val())||(e=!1);break;case"inputPhone":/^(?=.*?[1-9])[0-9]+$/i.test(t.val())||(e=!1);break;case"input09AZ":/^[a-z][0-9]+$/i.test($.trim(t.val()))||(e=!1);break;case"alphaNum":/^\w+$/.test(t.val())||(e=!1);case"inputAZ09":/^[\w \+\'\"]+$/i.test(t.val())||(e=!1);break;case"inputCard":/^[0-9]{4}[\-\ ]?[0-9]{4}[\-\ ]?[0-9]{4}[\-\ ]?[0-9]{4}$/i.test(t.val())||(e=!1);break;case"inputMinLength3":t.val().length<3&&(e=!1);break;case"inputMinLength4":t.val().length<4&&(e=!1);break;case"inputMinLength5":t.val().length<5&&(e=!1);break;case"inputMinLength6":t.val().length<6&&(e=!1);break;case"inputMinLength7":t.val().length<7&&(e=!1);break;case"inputMinLength8":t.val().length<8&&(e=!1);break;case"inputMinLength30":t.val().length<30&&(e=!1);break;case"inputMaxLength500":t.val().length>500&&(e=!1);break;case"inputNumMin8":(t.val().length<8||!/^(?=.*?[1-9])[0-9]+$/i.test(t.val()))&&(e=!1);break;case"inputNum6":6==t.val().length&&/^(?=.*?[1-9])[0-9]+$/i.test(t.val())||(e=!1);break;case"inputNum8":8==t.val().length&&/^(?=.*?[1-9])[0-9]+$/i.test(t.val())||(e=!1);break;case"inputNum10":10==t.val().length&&/^(?=.*?[1-9])[0-9]+$/i.test(t.val())||(e=!1);break;case"inputNum12":12==t.val().length&&/^(?=.*?[1-9])[0-9]+$/i.test(t.val())||(e=!1);break;case"inputNum16":16==t.val().length&&/^(?=.*?[1-9])[0-9]+$/i.test(t.val())||(e=!1);break;case"inputTextArea":/^[a-zA-Z0-9?@()!,\/\-=_:.&\s]+$/.test(t.val())||(e=!1);break;case"inputMMYYYY":var i=t.val();if(/^[0-1][0-9]\/[0-9]{4}$/i.test(i)){var s=i.match(/^([0-9]{2})\/([0-9]{4})$/i),o=parseInt(s[1]),c=parseInt(s[2]),l=new Date;o>12||o<1?e=!1:c<l.getFullYear()?e=!1:l.getFullYear()==c&&o<=l.getMonth()+1&&(e=!1)}else e=!1;break;case"inputEmail":/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t.val())||(e=!1);break;case"inputSelect":""==t.val()&&(e=!1);break;case"inputCheck":t.prop("checked")||(e=!1);break;case"inputCheckGroup":0===t.find(":checked").length&&(e=!1);break;case" ":""==t.val()&&(e=!1)}})}),e}function hasClass(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}function generateRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function getSelector(t){return"unique"==t?ab.setSelector:sc.className}function getAttribute(t){return"unique"==t?ab.setSelector:sc.attrName}function buildArray(t){var e=[],a=getSelector(t),n=getAttribute(t);return $(a).each(function(){var t=$(this).attr(n);e.push(t)}),e}function getUniqueArray(t){return t.filter(function(t,e,a){return a.indexOf(t)==e})}function turnOffScAb(){$(scAndAbTestOff).attr("src",""),$(scAndAbTestOff).css("display","none"),$(scAndAbTestOff).hide()}function processAbTest(){for(var t=getUniqueArray(buildArray("unique")),e=t.length,a=0;a<e;a++){var n=t[a],r="["+ab.setSelector+"="+n+"]",i=$(r).length,s=$(r).find(ab.attrSelector).length/i,o=generateRandomInt(1,s),c="["+ab.attrName+"="+o+"]";if($(r).find(c).show(),$(r).find(c).find("img").length){var l=$(r).find(c).find("img"),u=l.attr(ab.imgAttrName);l.attr("src",u),turnOffScAb()}}}function processSelectiveContent(t){t.each(function(){var t=$(this),e=t.attr(sc.imgAttrName),a=t.attr(sc.imgSrcSetAttrName);t.is("img")&&!$(ab.className).is(":visible")&&(a?(t.attr("src",e),t.attr("srcset",a)):t.attr("src",e)),t.show()})}function abTestCheck(t){if(0!=t){var e=getUrlParam()[urlParam.ab];e==urlParam.abVal&&processAbTest()}}function selectiveContentRunner(t,e){processSelectiveContent(t),abTestCheck(e)}function selectiveContentSwitcher(t,e){var a,n,r,i,s={other:function(){a="["+sc.attrName+"="+e+"]",n=$(a),r=$(a).find(ab.attrSelector),selectiveContentRunner(n,r.length)},default:function(){n=$(sc.genericSelector),r=$(sc.genericSelector).find(ab.attrSelector),selectiveContentRunner(n,r.length)}};i=s[t]?s[t]:s.default,i()}function selectiveContent(t){var e=buildArray("normal");void 0!==t&&-1!=$.inArray(t,e)?selectiveContentSwitcher("other",t):selectiveContentSwitcher("generic",t)}var sc={className:".selectiveContent",attrName:"data-selective-content",attrNameGeneric:"generic",imgAttrName:"data-img-src",imgSrcSetAttrName:"data-img-srcset"},ab={className:".abtest",attrName:"data-ab-test",imgAttrName:"data-src",setSelector:"[data-ab-test-set]"},urlParam={sc:"hidden_fields.source",ab:"abtest",abVal:"active"},scAndAbTestOff=".scAbTestOff";sc.genericSelector="["+sc.attrName+"="+sc.attrNameGeneric+"]",ab.attrSelector="["+ab.attrName+"]",$('link[href="/1/PA_esf-ca-app-content/content/pws_theme/home/Styles.css"]'),$('link[href="/1/PA_esf-ca-app-content/content/pws_theme/home/Styles.css"]').prop("disabled",!0),$('link[href="/1/PA_esf-ca-app-content/content/pws_theme/home/Styles_zh.css"]'),$('link[href="/1/PA_esf-ca-app-content/content/pws_theme/home/Styles_zh.css"]').prop("disabled",!0),$(document).ready(function(){progressBar(),$(".form-row input").focusout(function(){""!=$(this).val()?$(this).addClass("has-content"):$(this).removeClass("has-content")}),$(".info-button").on("click",function(){$(this).next(".tooltip-container").toggle(0)}),$(".close-button").on("click",function(){$(this).closest(".tooltip").closest(".tooltip-container").toggle(0)}),$(".accordion").on("click",function(t){t.preventDefault();var e=$(this).next(".accordion-content"),a=$(this).find(".accordion-button"),n=$(this).find(".chevron-accordion"),r=$(this).next(".accordion-content").attr("data-height");e.css("height",r),e.hasClass("inactive")?(e.toggle(350),n.css("transform","rotate(-90deg)"),e.removeClass("inactive").addClass("active"),a.attr("aria-expanded","true")):(e.toggle(250),n.css("transform","rotate(90deg)"),e.removeClass("active").addClass("inactive"),a.attr("aria-expanded","false"))}),$(".super-accordion").on("click",function(t){t.preventDefault();var e=$(this).next(".super-accordion-content"),a=$(this).find(".super-accordion-button"),n=$(this).find(".chevron-accordion"),r=$(this).next(".super-accordion-content").attr("data-height");e.css("height",r),e.hasClass("inactive")?(e.toggle(350),n.css("transform","rotate(-90deg)"),e.removeClass("inactive").addClass("active"),a.attr("aria-expanded","true")):(e.toggle(250),n.css("transform","rotate(90deg)"),e.removeClass("active").addClass("inactive"),a.attr("aria-expanded","false"))})}),$(function(t){t("form").on("blur",'input[type="text"]',function(){validateField(jQuery(this))}).on("change","select",function(){validateField(jQuery(this))}).on("change",'input[type="checkbox"], input[type="radio"]',function(){validateField(jQuery(this).closest(".validate"))}),jQuery("form").on("submit",function(e){var a=validateGroup(jQuery("#form-content .validate"));a||(e.preventDefault(),t(window).scrollTop(t(".help-inline:visible").filter(":first").offset().top-150),t(".help-inline:visible").filter(":first").prev().focus())})}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var options={root:null,rootMargin:"0px",threshold:[.25,.5,.75,1]},observe=function(t,e){t.forEach(function(t){var a=document.querySelector("#quick-fill");if(hasClass(t.target,"row-load")){var n=t.target,r=n.getAttribute("data-src");t.isIntersecting&&(n.src=r,e.unobserve(n))}"form"===t.target.id&&(t.isIntersecting?a.style.display="none":a.style.display="block"),"footer-wrapper"===t.target.id&&(t.isIntersecting?a.style.display="none":a.style.display="block")})},observer=new IntersectionObserver(observe),imgArr=document.querySelectorAll("img.row-load");imgArr.forEach(function(t){observer.observe(t)}),function(t,e,a){var n=!(!e||!e.pushState),r={ANCHOR_REGEX:/^#[^ ]+$/,OFFSET_HEIGHT_PX:45,init:function(){this.scrollToCurrent(),$(window).on("hashchange",$.proxy(this,"scrollToCurrent")),$("body").on("click","a",$.proxy(this,"delegateAnchors"))},getFixedOffset:function(){return this.OFFSET_HEIGHT_PX},scrollIfAnchor:function(r,i){var s,o;return!!this.ANCHOR_REGEX.test(r)&&(s=t.getElementById(r.slice(1)),s&&(o=$(s).offset().top-this.getFixedOffset(),$("html, body").animate({scrollTop:o}),n&&i&&e.pushState({},t.title,a.pathname+r)),!!s)},scrollToCurrent:function(t){this.scrollIfAnchor(window.location.hash)&&t&&t.preventDefault()},delegateAnchors:function(t){var e=t.target;this.scrollIfAnchor(e.getAttribute("href"),!0)&&t.preventDefault()}};$(t).ready($.proxy(r,"init"))}(window.document,window.history,window.location);